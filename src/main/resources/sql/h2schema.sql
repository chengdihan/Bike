create table member
(
    id         integer generated by default as identity,
    name       varchar(50),
    created_at timestamp,
    updated_at timestamp,
    primary key (id)
);

create table station
(
    id         integer generated by default as identity,
    name       varchar(50),
    location   varchar(255),
    created_at timestamp,
    updated_at timestamp,
    primary key (id)
);

create table docker
(
    id         integer generated by default as identity,
    station_id integer,
    status     varchar(50) not null,
    created_at timestamp,
    updated_at timestamp,
    primary key (id)
);

create table bike
(
    id         integer generated by default as identity,
    station_id integer,
    docker_id  integer,
    status     varchar(50) not null,
    created_at timestamp,
    updated_at timestamp,
    primary key (id)
);

create table transaction
(
    id             integer generated by default as identity,
    bike_id        integer not null,
    member_id      integer not null,
    time_check_out timestamp,
    time_return    timestamp,
    unlock_code    varchar(50),
    created_at     timestamp,
    updated_at     timestamp,
    primary key (id)
);

create table payment
(
    id             integer generated by default as identity,
    member_id      integer not null,
    time_payment timestamp,
    created_at     timestamp,
    updated_at     timestamp,
    primary key (id)
);

insert into member values (1,'Dihan Cheng', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into member values (2,'Jane Doe', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());

insert into station values(1, 'Lexington Avenue', 'Lexington Avenue', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into station values(2, 'Park Avenue', 'Park Avenue', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());

insert into docker values(1, 1, 'OCCUPIED', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into docker values(2, 1, 'OCCUPIED', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into docker values(3, 1, 'OCCUPIED', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into docker values(4, 2, 'OCCUPIED', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into docker values(5, 2, 'OCCUPIED', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into docker values(6, 2, 'OCCUPIED', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());

insert into bike values(1, 1, 1, 'FREE', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into bike values(2, 1, 2, 'FREE', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into bike values(3, 1, 3, 'FREE', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into bike values(4, 2, 4, 'FREE', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into bike values(5, 2, 5, 'FREE', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());
insert into bike values(6, 2, 6, 'FREE', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());


-- alter table bike
--     add constraint FKsfc9m4rpr43e99qs6wrw8413o
--         foreign key (docker_id)
--             references docker;

